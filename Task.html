<!DOCTYPE html>
<html>
<head>
    <title>Client Details CRUD</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        table { border-collapse: collapse; width: 100%; margin-top: 10px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        input { margin: 5px; padding: 5px; }
        button { margin: 5px; padding: 5px 10px; }
    </style>
</head>
<body>

    <h2>Client Details (CRUD)</h2>

    <label>Name:</label>
    <input type="text" id="name"><br>

    <label>Email:</label>
    <input type="text" id="email"><br>

    <label>Phone:</label>
    <input type="text" id="phone"><br>

    <button onclick="addClient()">Add Client</button>
    <button onclick="updateClient()" style="display:none;" id="updateBtn">Update Client</button>

    <table>
        <thead>
            <tr>
                <th>#</th><th>Name</th><th>Email</th><th>Phone</th><th>Actions</th>
            </tr>
        </thead>
        <tbody id="clientTable"></tbody>
    </table>

    <script>
        let clients = [];
        let selectedIndex = -1;

        function displayClients() {
            const table = document.getElementById("clientTable");
            table.innerHTML = "";

            clients.forEach((client, index) => {
                table.innerHTML += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${client.name}</td>
                        <td>${client.email}</td>
                        <td>${client.phone}</td>
                        <td>
                            <button onclick="editClient(${index})">Edit</button>
                            <button onclick="deleteClient(${index})">Delete</button>
                        </td>
                    </tr>
                `; 
            });
        }

        function addClient() {
            const name = document.getElementById("name").value.trim();
            const email = document.getElementById("email").value.trim();
            const phone = document.getElementById("phone").value.trim();

            const nameRegex = /^[A-Za-z ]+$/;
            const emailRegex = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
            const phoneRegex = /^[0-9]+$/;

            if (!name || !email || !phone) {
                alert("Please fill all fields");
                return;
            }

            if (!nameRegex.test(name)) {
                alert("Name must contain only letters.");
                return;
            }

            if (!emailRegex.test(email)) {
                alert("Email must be a valid Gmail address (ending with @gmail.com).");
                return;
            }

            if (!phoneRegex.test(phone)) {
                alert("Phone number must contain only digits.");
                return;
            }

            clients.push({ name, email, phone });
            clearForm();
            displayClients();
        }

        function editClient(index) {
            selectedIndex = index;
            const client = clients[index];

            document.getElementById("name").value = client.name;
            document.getElementById("email").value = client.email;
            document.getElementById("phone").value = client.phone;

            document.getElementById("updateBtn").style.display = "inline";
            document.querySelector("button[onclick='addClient()']").style.display = "none";
        }

        function updateClient() {
            const name = document.getElementById("name").value.trim();
            const email = document.getElementById("email").value.trim();
            const phone = document.getElementById("phone").value.trim();

            const nameRegex = /^[A-Za-z ]+$/;
            const emailRegex = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
            const phoneRegex = /^[0-9]+$/;

            if (!name || !email || !phone) {
                alert("Please fill all fields");
                return;
            }

            if (!nameRegex.test(name)) {
                alert("Name must contain only letters.");
                return;
            }

            if (!emailRegex.test(email)) {
                alert("Email must be a valid Gmail address (ending with @gmail.com).");
                return;
            }

            if (!phoneRegex.test(phone)) {
                alert("Phone number must contain only digits.");
                return;
            }

            if (selectedIndex > -1) {
                clients[selectedIndex] = { name, email, phone };
                selectedIndex = -1;
                clearForm();
                displayClients();
                document.getElementById("updateBtn").style.display = "none";
                document.querySelector("button[onclick='addClient()']").style.display = "inline";
            }
        }

        function deleteClient(index) {
            if (confirm("Are you sure you want to delete this client?")) {
                clients.splice(index, 1);
                displayClients();
            }
        }

        function clearForm() {
            document.getElementById("name").value = "";
            document.getElementById("email").value = "";
            document.getElementById("phone").value = "";
        }
    </script>

</body> 
</html>
  